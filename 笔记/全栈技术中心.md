[TOC]

# æ¡†æ¶

## React

### props

#### å¯¹è±¡ç»„ä»¶

```js
//åˆ›å»ºç»„ä»¶
class Person extends React.Component {
  render() {
    // console.log(this);
    const { name, age, sex } = this.props
    //propsæ˜¯åªè¯»çš„
    //this.props.name = 'jack' //æ­¤è¡Œä»£ç ä¼šæŠ¥é”™ï¼Œå› ä¸ºpropsæ˜¯åªè¯»çš„
    return (
      <ul>
        <li>å§“åï¼š{name}</li>
        <li>æ€§åˆ«ï¼š{sex}</li>
        <li>å¹´é¾„ï¼š{age + 1}</li>
      </ul>
    )
  }
}
//å¯¹æ ‡ç­¾å±æ€§è¿›è¡Œç±»å‹ã€å¿…è¦æ€§çš„é™åˆ¶
Person.propTypes = {
  name: PropTypes.string.isRequired, //é™åˆ¶nameå¿…ä¼ ï¼Œä¸”ä¸ºå­—ç¬¦ä¸²
  sex: PropTypes.string, //é™åˆ¶sexä¸ºå­—ç¬¦ä¸²
  age: PropTypes.number, //é™åˆ¶ageä¸ºæ•°å€¼
  speak: PropTypes.func, //é™åˆ¶speakä¸ºå‡½æ•°
}
//æŒ‡å®šé»˜è®¤æ ‡ç­¾å±æ€§å€¼
Person.defaultProps = {
  sex: 'ç”·', //sexé»˜è®¤å€¼ä¸ºç”·
  age: 18, //ageé»˜è®¤å€¼ä¸º18
}
```

```js
class Person extends React.Component {
  constructor(props) {
    //æ„é€ å™¨æ˜¯å¦æ¥æ”¶propsï¼Œæ˜¯å¦ä¼ é€’ç»™superï¼Œå–å†³äºï¼šæ˜¯å¦å¸Œæœ›åœ¨æ„é€ å™¨ä¸­é€šè¿‡thisè®¿é—®props
    // console.log(props);
    super(props)
    console.log('constructor', this.props)
  }

  //å¯¹æ ‡ç­¾å±æ€§è¿›è¡Œç±»å‹ã€å¿…è¦æ€§çš„é™åˆ¶
  static propTypes = {
    name: PropTypes.string.isRequired, //é™åˆ¶nameå¿…ä¼ ï¼Œä¸”ä¸ºå­—ç¬¦ä¸²
    sex: PropTypes.string, //é™åˆ¶sexä¸ºå­—ç¬¦ä¸²
    age: PropTypes.number, //é™åˆ¶ageä¸ºæ•°å€¼
  }

  //æŒ‡å®šé»˜è®¤æ ‡ç­¾å±æ€§å€¼
  static defaultProps = {
    sex: 'ç”·', //sexé»˜è®¤å€¼ä¸ºç”·
    age: 18, //ageé»˜è®¤å€¼ä¸º18
  }

  render() {
    // console.log(this);
    const { name, age, sex } = this.props
    //propsæ˜¯åªè¯»çš„
    //this.props.name = 'jack' //æ­¤è¡Œä»£ç ä¼šæŠ¥é”™ï¼Œå› ä¸ºpropsæ˜¯åªè¯»çš„
    return (
      <ul>
        <li>å§“åï¼š{name}</li>
        <li>æ€§åˆ«ï¼š{sex}</li>
        <li>å¹´é¾„ï¼š{age + 1}</li>
      </ul>
    )
  }
}
```

#### å‡½æ•°ç»„ä»¶

```js
//åˆ›å»ºç»„ä»¶
function Person(props) {
  const { name, age, sex } = props
  return (
    <ul>
      <li>å§“åï¼š{name}</li>
      <li>æ€§åˆ«ï¼š{sex}</li>
      <li>å¹´é¾„ï¼š{age}</li>
    </ul>
  )
}
Person.propTypes = {
  name: PropTypes.string.isRequired, //é™åˆ¶nameå¿…ä¼ ï¼Œä¸”ä¸ºå­—ç¬¦ä¸²
  sex: PropTypes.string, //é™åˆ¶sexä¸ºå­—ç¬¦ä¸²
  age: PropTypes.number, //é™åˆ¶ageä¸ºæ•°å€¼
}

//æŒ‡å®šé»˜è®¤æ ‡ç­¾å±æ€§å€¼
Person.defaultProps = {
  sex: 'ç”·', //sexé»˜è®¤å€¼ä¸ºç”·
  age: 18, //ageé»˜è®¤å€¼ä¸º18
}
```

### ref ä¸äº‹ä»¶å¤„ç†

#### å­—ç¬¦ä¸²å½¢å¼ï¼ˆä¸æ¨èï¼‰

```js
//åˆ›å»ºç»„ä»¶
class Demo extends React.Component {
  //å±•ç¤ºå·¦ä¾§è¾“å…¥æ¡†çš„æ•°æ®
  showData = () => {
    const { input1 } = this.refs
    alert(input1.value)
  }
  //å±•ç¤ºå³ä¾§è¾“å…¥æ¡†çš„æ•°æ®
  showData2 = () => {
    const { input2 } = this.refs
    alert(input2.value)
  }
  render() {
    return (
      <div>
        <input ref="input1" type="text" placeholder="ç‚¹å‡»æŒ‰é’®æç¤ºæ•°æ®" />
        &nbsp;
        <button onClick={this.showData}>ç‚¹æˆ‘æç¤ºå·¦ä¾§çš„æ•°æ®</button>&nbsp;
        <input
          ref="input2"
          onBlur={this.showData2}
          type="text"
          placeholder="å¤±å»ç„¦ç‚¹æç¤ºæ•°æ®"
        />
      </div>
    )
  }
}
//æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢
ReactDOM.render(<Demo a="1" b="2" />, document.getElementById('test'))
```

#### å›è°ƒå‡½æ•°å½¢å¼

```js
//åˆ›å»ºç»„ä»¶
class Demo extends React.Component {
  //å±•ç¤ºå·¦ä¾§è¾“å…¥æ¡†çš„æ•°æ®
  showData = () => {
    const { input1 } = this
    alert(input1.value)
  }
  //å±•ç¤ºå³ä¾§è¾“å…¥æ¡†çš„æ•°æ®
  showData2 = () => {
    const { input2 } = this
    alert(input2.value)
  }
  render() {
    return (
      <div>
        <input
          ref={(c) => (this.input1 = c)}
          type="text"
          placeholder="ç‚¹å‡»æŒ‰é’®æç¤ºæ•°æ®"
        />
        &nbsp;
        <button onClick={this.showData}>ç‚¹æˆ‘æç¤ºå·¦ä¾§çš„æ•°æ®</button>&nbsp;
        <input
          onBlur={this.showData2}
          ref={(c) => (this.input2 = c)}
          type="text"
          placeholder="å¤±å»ç„¦ç‚¹æç¤ºæ•°æ®"
        />
        &nbsp;
      </div>
    )
  }
}
//æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢
ReactDOM.render(<Demo a="1" b="2" />, document.getElementById('test'))
```

#### creatRef

```js
//åˆ›å»ºç»„ä»¶
class Demo extends React.Component {
  mref = react.creatRef()
  //å±•ç¤ºå·¦ä¾§è¾“å…¥æ¡†çš„æ•°æ®
  showData = () => {
    alert(this.mref.current.value)
  }
  render() {
    return (
      <div>
        <input ref={this.mref} type="text" placeholder="ç‚¹å‡»æŒ‰é’®æç¤ºæ•°æ®" />
        &nbsp;
        <button onClick={this.showData}>ç‚¹æˆ‘æç¤ºå·¦ä¾§çš„æ•°æ®</button>&nbsp;
      </div>
    )
  }
}
//æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢
ReactDOM.render(<Demo a="1" b="2" />, document.getElementById('test'))
```

#### äº‹ä»¶å¤„ç†

```js
//åˆ›å»ºç»„ä»¶
class Demo extends React.Component {
  /* 
				(1).é€šè¿‡onXxxå±æ€§æŒ‡å®šäº‹ä»¶å¤„ç†å‡½æ•°(æ³¨æ„å¤§å°å†™)
						a.Reactä½¿ç”¨çš„æ˜¯è‡ªå®šä¹‰(åˆæˆ)äº‹ä»¶, è€Œä¸æ˜¯ä½¿ç”¨çš„åŸç”ŸDOMäº‹ä»¶ â€”â€”â€”â€”â€”â€” ä¸ºäº†æ›´å¥½çš„å…¼å®¹æ€§
						b.Reactä¸­çš„äº‹ä»¶æ˜¯é€šè¿‡äº‹ä»¶å§”æ‰˜æ–¹å¼å¤„ç†çš„(å§”æ‰˜ç»™ç»„ä»¶æœ€å¤–å±‚çš„å…ƒç´ ) â€”â€”â€”â€”â€”â€”â€”â€”ä¸ºäº†çš„é«˜æ•ˆ
				(2).é€šè¿‡event.targetå¾—åˆ°å‘ç”Ÿäº‹ä»¶çš„DOMå…ƒç´ å¯¹è±¡ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”ä¸è¦è¿‡åº¦ä½¿ç”¨ref
			 */
  //åˆ›å»ºrefå®¹å™¨
  myRef = React.createRef()
  myRef2 = React.createRef()

  //å±•ç¤ºå·¦ä¾§è¾“å…¥æ¡†çš„æ•°æ®
  showData = (event) => {
    console.log(event.target)
    alert(this.myRef.current.value)
  }

  //å±•ç¤ºå³ä¾§è¾“å…¥æ¡†çš„æ•°æ®
  showData2 = (event) => {
    alert(event.target.value)
  }

  render() {
    return (
      <div>
        <input ref={this.myRef} type="text" placeholder="ç‚¹å‡»æŒ‰é’®æç¤ºæ•°æ®" />
        &nbsp;
        <button onClick={this.showData}>ç‚¹æˆ‘æç¤ºå·¦ä¾§çš„æ•°æ®</button>&nbsp;
        <input
          onBlur={this.showData2}
          type="text"
          placeholder="å¤±å»ç„¦ç‚¹æç¤ºæ•°æ®"
        />
        &nbsp;
      </div>
    )
  }
}
//æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢
ReactDOM.render(<Demo a="1" b="2" />, document.getElementById('test'))
```

### state ä¸ç”Ÿå‘½å‘¨æœŸ

[State & ç”Ÿå‘½å‘¨æœŸ â€“ React (docschina.org)](https://react.docschina.org/docs/state-and-lifecycle.html)

```js
class Clock extends React.Component {
  constructor(props) {
    super(props)
    this.state = { date: new Date() }
  }

  //ç»„ä»¶è¢«æŒ‚è½½æ—¶
  componentDidMount() {}

  //ç»„ä»¶è¢«å¸è½½æ—¶
  componentWillUnmount() {}

  render() {
    return (
      <div>
        <h1>Hello, world!</h1>
        <h2>It is {this.state.date.toLocaleTimeString()}.</h2>
      </div>
    )
  }
}
```

`componentDidMount()` æ–¹æ³•ä¼šåœ¨ç»„ä»¶å·²ç»è¢«æ¸²æŸ“åˆ° DOM ä¸­åè¿è¡Œ

`componentWillUnmount()` æ–¹æ³•ä¼šåœ¨ç»„ä»¶è¢«åˆ é™¤æ—¶è¿è¡Œ

## Express

## Umi

## Storybook

[Storybook Tutorials](https://storybook.js.org/tutorials/intro-to-storybook/react/zh-CN/get-started/)

### start

#### introduce

Storybook æ˜¯ä¸€ç§ UI å¼€å‘å·¥å…·ã€‚å®ƒé€šè¿‡éš”ç¦»ç»„ä»¶ä½¿å¼€å‘æ›´å¿«ã€æ›´å®¹æ˜“ã€‚è¿™å…è®¸æ‚¨ä¸€æ¬¡å¤„ç†ä¸€ä¸ªç»„ä»¶ã€‚æ‚¨å¯ä»¥å¼€å‘æ•´ä¸ª UIï¼Œè€Œæ— éœ€å¯åŠ¨å¤æ‚çš„å¼€å‘å †æ ˆã€å¼ºåˆ¶å°†æŸäº›æ•°æ®æ”¾å…¥æ•°æ®åº“æˆ–åœ¨åº”ç”¨ç¨‹åºä¸­å¯¼èˆªã€‚

ä½¿ç”¨ Storybook åœ¨ web åº”ç”¨ç¨‹åºä¸­æ„å»ºå°å‹åŸå­ç»„ä»¶å’Œå¤æ‚é¡µé¢ã€‚å¦‚æœå®ƒæ˜¯ä¸€ä¸ª UIï¼Œä½ å¯ä»¥ç”¨ Storybook æ„å»ºå®ƒã€‚

Storybook å¸®åŠ©æ‚¨è®°å½•ç»„ä»¶ä»¥ä¾›é‡ç”¨ï¼Œå¹¶è‡ªåŠ¨å¯¹ç»„ä»¶è¿›è¡Œå¯è§†åŒ–æµ‹è¯•ä»¥é˜²æ­¢å‡ºç°é”™è¯¯ã€‚ç”¨æ’ä»¶ç”Ÿæ€ç³»ç»Ÿæ‰©å±• Storybookï¼Œå¸®åŠ©æ‚¨åšä¸€äº›äº‹æƒ…ï¼Œæ¯”å¦‚å¾®è°ƒå“åº”å¸ƒå±€æˆ–éªŒè¯å¯è®¿é—®æ€§ã€‚

Storybook ä¸æœ€æµè¡Œçš„ JavaScript UI æ¡†æ¶é›†æˆï¼Œå¹¶ä¸”ï¼ˆå®éªŒæ€§åœ°ï¼‰æ”¯æŒæœåŠ¡å™¨å‘ˆç°çš„ç»„ä»¶æ¡†æ¶ï¼Œå¦‚ Ruby on Railsã€‚

#### install

Use the Storybook CLI to install it in a single command. Run this inside your _existing projectâ€™s_ root directory:

```shell
# Add Storybook:
npx storybook init
```

If you run into issues with the installation, check the [Troubleshooting section](https://storybook.js.org/docs/react/get-started/install#troubleshooting) below for guidance on how to solve it.

Storybook éœ€è¦å®‰è£…åˆ°å·²ä½¿ç”¨æ¡†æ¶è®¾ç½®çš„é¡¹ç›®ä¸­ã€‚å®ƒä¸èƒ½ç”¨äºç©ºé¡¹ç›®ã€‚

- ğŸ“¦ [Create an Angular Workspace](https://angular.io/cli/new)
- ğŸ“¦ [Create React App](https://reactjs.org/docs/create-a-new-react-app.html)
- ğŸ“¦ [Vue CLI](https://cli.vuejs.org/)
- ğŸ“¦ [Ember CLI](https://guides.emberjs.com/release/getting-started/quick-start/)

The command above will make the following changes to your local environment:

- ğŸ“¦ Install the required dependencies.
- ğŸ›  Setup the necessary scripts to run and build Storybook.
- ğŸ›  Add the default Storybook configuration.
- ğŸ“ Add some boilerplate stories to get you started.
- ğŸ“¡ Set up telemetry to help us improve Storybook. Read more about it [here](https://storybook.js.org/docs/react/configure/telemetry).

Depending on your framework, first, build your app and then check that everything worked by running:

```shell
npm run storybook
```

```
yarn storybook
```

å®ƒå°†åœ¨æœ¬åœ°å¯åŠ¨ Storybook å¹¶è¾“å‡ºåœ°å€ã€‚æ ¹æ®æ‚¨çš„ç³»ç»Ÿé…ç½®ï¼Œå®ƒä¼šè‡ªåŠ¨åœ¨æ–°çš„æµè§ˆå™¨é€‰é¡¹å¡ä¸­æ‰“å¼€åœ°å€ï¼Œå¹¶æ˜¾ç¤ºæ¬¢è¿å±å¹•ã€‚

#### whatâ€™s a story

æ•…äº‹æ•è· UI ç»„ä»¶çš„å‘ˆç°çŠ¶æ€ã€‚å¼€å‘äººå‘˜ä¸ºæ¯ä¸ªç»„ä»¶ç¼–å†™å¤šä¸ªæ•…äº‹ï¼Œæè¿°ç»„ä»¶å¯ä»¥æ”¯æŒçš„æ‰€æœ‰â€œæœ‰è¶£â€çŠ¶æ€ã€‚

CLI åˆ›å»ºçš„ç¤ºä¾‹ç»„ä»¶æ¼”ç¤ºäº†å¯ä»¥ä½¿ç”¨ Storybook æ„å»ºçš„ç»„ä»¶ç±»å‹ï¼šæŒ‰é’®ã€æ ‡é¢˜å’Œé¡µé¢ã€‚

æ¯ä¸ªç¤ºä¾‹ç»„ä»¶éƒ½æœ‰ä¸€ç»„æ•…äº‹ï¼Œå±•ç¤ºäº†å®ƒæ”¯æŒçš„çŠ¶æ€ã€‚æ‚¨å¯ä»¥åœ¨ UI ä¸­æµè§ˆæ•…äº‹ï¼Œå¹¶åœ¨ä»¥.stories ç»“å°¾çš„æ–‡ä»¶ä¸­æŸ¥çœ‹æ•…äº‹èƒŒåçš„ä»£ç ã€‚js æˆ–.stories.tsã€‚æ•…äº‹æ˜¯ç”¨ç»„ä»¶æ•…äº‹æ ¼å¼ï¼ˆCSFï¼‰ç¼–å†™çš„ï¼ŒCSF æ˜¯ä¸€ç§åŸºäº ES6 æ¨¡å—çš„æ ‡å‡†ï¼Œç”¨äºç¼–å†™ç»„ä»¶ç¤ºä¾‹ã€‚

è®©æˆ‘ä»¬ä»æŒ‰é’®ç»„ä»¶å¼€å§‹ã€‚æ•…äº‹æ˜¯ä¸€ä¸ªæè¿°å¦‚ä½•å‘ˆç°ç›¸å…³ç»„ä»¶çš„å‡½æ•°ã€‚ä¸‹é¢æ˜¯å¦‚ä½•åœ¨â€œprimaryâ€çŠ¶æ€ä¸‹å‘ˆç° Button å¹¶å¯¼å‡ºä¸€ä¸ªåä¸º primary çš„æ•…äº‹ã€‚

```js
// Button.stories.js|jsx

import React from 'react'

import { Button } from './Button'

export default {
  /* ğŸ‘‡ The title prop is optional.
   * See https://storybook.js.org/docs/react/configure/overview#configure-story-loading
   * to learn how to generate automatic titles
   */
  title: 'Button',
  component: Button,
}

export const Primary = () => <Button primary>Button</Button>
```

![Initial button story](https://storybook.js.org/d1406df7f9ce817ae0e5b3eb5f1bf1f3/example-button-noargs.png)

é€šè¿‡åœ¨ Storybook ä¾§æ ä¸­å•å‡»æ¸²æŸ“çš„æŒ‰é’®æ¥æŸ¥çœ‹å®ƒã€‚

ä¸Šè¿° Story å®šä¹‰å¯ä»¥è¿›ä¸€æ­¥æ”¹è¿›ï¼Œä»¥åˆ©ç”¨ Storybook çš„â€œargsâ€æ¦‚å¿µã€‚Args ä»¥æœºå™¨å¯è¯»çš„æ–¹å¼æè¿° Button çš„å‚æ•°ã€‚å®ƒå¼€å¯äº† Storybook åŠ¨æ€æ”¹å˜å’Œæ’°å†™è®ºç‚¹çš„è¶…èƒ½åŠ›ã€‚

```js
// Button.stories.js|jsx

import React from 'react'

import { Button } from './Button'

export default {
  /* ğŸ‘‡ The title prop is optional.
   * See https://storybook.js.org/docs/react/configure/overview#configure-story-loading
   * to learn how to generate automatic titles
   */
  title: 'Button',
  component: Button,
}

//ğŸ‘‡ We create a â€œtemplateâ€ of how args map to rendering
const Template = (args) => <Button {...args} />

//ğŸ‘‡ Each story then reuses that template
export const Primary = Template.bind({})
Primary.args = {
  primary: true,
  label: 'Button',
}
```

![Button story with args](https://storybook.js.org/ff519d6518900d4be0ce86bbf3655913/example-button-args.png)

#### Browse Stories

ä¸€ä¸ª`*.stories.js`æ–‡ä»¶å®šä¹‰äº†ç»„ä»¶çš„æ‰€æœ‰ storyã€‚æ¯ä¸ª story éƒ½æœ‰ä¸€ä¸ªç›¸åº”çš„è¾¹æ é¡¹ç›®ã€‚å½“æ‚¨å•å‡»ä¸€ä¸ª story æ—¶ï¼Œå®ƒä¼šåœ¨ç”»å¸ƒä¸­å‘ˆç°ä¸€ä¸ªç‹¬ç«‹çš„é¢„è§ˆ iframe(é¡µå†…æ¡†æ¶)ã€‚

é€šè¿‡å•å‡»ä¾§æ ä¸­çš„æ•…äº‹åœ¨æ•…äº‹ä¹‹é—´å¯¼èˆªã€‚å°è¯•ä¾§æ æœç´¢ï¼ŒæŒ‰åç§°æŸ¥æ‰¾æ•…äº‹ã€‚

æˆ–è€…ä½¿ç”¨é”®ç›˜å¿«æ·é”®ã€‚å•å‡»â€œæ•…äº‹ä¹¦â€èœå•æŸ¥çœ‹å¯ç”¨å¿«æ·æ–¹å¼åˆ—è¡¨ã€‚

storybook å†…ç½®äº†èŠ‚çœæ—¶é—´çš„å·¥å…·ã€‚å·¥å…·æ åŒ…å«ä¸€äº›å·¥å…·ï¼Œå¯ç”¨äºè°ƒæ•´ story åœ¨ç”»å¸ƒä¸­çš„æ¸²æŸ“æ–¹å¼ï¼š

ğŸ” é€šè¿‡è§†è§‰ç¼©æ”¾å¯ä»¥ç¼©æ”¾æ„ä»¶ï¼Œä»¥ä¾¿æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ã€‚

ğŸ–¼ èƒŒæ™¯æ›´æ”¹ç»„ä»¶åé¢çš„æ¸²æŸ“èƒŒæ™¯ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥éªŒè¯ç»„ä»¶åœ¨ä¸åŒè§†è§‰ä¸Šä¸‹æ–‡ä¸­çš„æ¸²æŸ“æ–¹å¼ã€‚

ğŸ“± è§†å£ä»¥å„ç§å°ºå¯¸å’Œæ–¹å‘æ¸²æŸ“é›¶éƒ¨ä»¶ã€‚å®ƒæ˜¯æ£€æŸ¥ç»„ä»¶å“åº”æ€§çš„ç†æƒ³å·¥å…·ã€‚

https://storybook.js.org/8b083907d74e7f2b9a298e5f324cc751/toolbar-walkthrough-optimized.mp4

â€œDocsâ€é€‰é¡¹å¡æ˜¾ç¤ºå…³äºç»„ä»¶çš„è‡ªåŠ¨ç”Ÿæˆçš„æ–‡æ¡£ï¼ˆä»æºä»£ç æ¨æ–­ï¼‰ã€‚ä½¿ç”¨æ–‡æ¡£åœ¨ä¸å›¢é˜Ÿå…±äº«å¯é‡ç”¨ç»„ä»¶æ—¶éå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚åœ¨è®¾è®¡ç³»ç»Ÿæˆ–ç»„ä»¶åº“ä¸­ã€‚

https://storybook.js.org/07234fedf00ba418879c443de0764c1c/toolbar-docs-tab-optimized.mp4

**Controls** å…è®¸æ‚¨ä¸ç»„ä»¶çš„å‚æ•°ï¼ˆè¾“å…¥ï¼‰åŠ¨æ€äº¤äº’ã€‚å°è¯•ç»„ä»¶çš„æ›¿ä»£é…ç½®ä»¥å‘ç°è¾¹ç¼˜æƒ…å†µã€‚

**Actions** å¯ä»¥å¸®åŠ©æ‚¨éªŒè¯äº¤äº’é€šè¿‡å›è°ƒäº§ç”Ÿæ­£ç¡®çš„è¾“å‡ºã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æŸ¥çœ‹ Header ç»„ä»¶çš„â€œLogged Inâ€æ•…äº‹ï¼Œæˆ‘ä»¬å¯ä»¥éªŒè¯å•å‡»â€œLog outâ€æŒ‰é’®æ˜¯å¦è§¦å‘ onLogout å›è°ƒï¼Œè¯¥å›è°ƒå°†ç”±ä½¿ç”¨ Header çš„ç»„ä»¶æä¾›ã€‚

https://storybook.js.org/946b2f4bdb006e8475d21202d68b9eec/addons-walkthrough-optimized.mp4

#### Setup Storybook

[Setup Storybook](https://storybook.js.org/docs/react/get-started/setup)

ä»æ‚¨çš„é¡¹ç›®ä¸­é€‰æ‹©ä¸€ä¸ªç®€å•çš„ç»„ä»¶ï¼Œå¦‚ Buttonï¼Œç„¶åç¼–å†™ä¸€ä¸ª`.stories.js`æˆ–ä¸€ä¸ª`.stories.mdx`æ–‡ä»¶ã€‚å®ƒå¯èƒ½çœ‹èµ·æ¥åƒè¿™æ ·ï¼š

```js
// YourComponent.stories.js|jsx

import { YourComponent } from './YourComponent'

//ğŸ‘‡ This default export determines where your story goes in the story list
export default {
  /* ğŸ‘‡ The title prop is optional.
   * See https://storybook.js.org/docs/react/configure/overview#configure-story-loading
   * to learn how to generate automatic titles
   */
  title: 'YourComponent',
  component: YourComponent,
}

//ğŸ‘‡ We create a â€œtemplateâ€ of how args map to rendering
const Template = (args) => <YourComponent {...args} />

export const FirstStory = {
  args: {
    //ğŸ‘‡ The args you need here will depend on your component
  },
}
```

### Write Stories

#### Introduce

## Vue

[å°šç¡…è°· Vue æ•™ç¨‹](https://www.bilibili.com/video/BV1Zy4y1K7SH?p=108&spm_id_from=pageDriver&vd_source=299087a2b790fc9d7c3d68e9ab09826f)

[Vue2 å®˜æ–¹æ–‡æ¡£](https://v2.cn.vuejs.org/)

[Vue3 å®˜æ–¹æ–‡æ¡£](https://cn.vuejs.org/)

# æŠ€æœ¯/åº“/å·¥å…·

## ä» 0-1 æ­å»º react18 é¡¹ç›®

[ã€Reactã€‘ä» 0 åˆ° 1 æ­å»ºä½ çš„ React18 é¡¹ç›®-é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒº (aliyun.com)](https://developer.aliyun.com/article/999696#slide-4)

```
npx create-react-app site
```

è°ƒæ•´é¡¹ç›®ç»“æ„

```
/src
  /assets         é¡¹ç›®èµ„æºæ–‡ä»¶ï¼Œæ¯”å¦‚ï¼Œå›¾ç‰‡ ç­‰
  /components     é€šç”¨ç»„ä»¶
  /pages          é¡µé¢
  /store          mobx çŠ¶æ€ä»“åº“
  /utils          å·¥å…·ï¼Œæ¯”å¦‚ï¼Œtokenã€axios çš„å°è£…ç­‰
  App.js          æ ¹ç»„ä»¶
  index.css       å…¨å±€æ ·å¼
  index.js        é¡¹ç›®å…¥å£
```

##### scss é¢„å¤„ç†å™¨

```
npm i sass -D
```

##### é…ç½®è·¯ç”±ï¼ˆéç»„ä»¶ç¯å¢ƒä¸‹è·å–è·¯ç”±ä¿¡æ¯ï¼‰

```
npm i react-router-dom
```

1. åœ¨ `pages` ç›®å½•ä¸­åˆ›å»ºä¸¤ä¸ªè·¯ç”±æµ‹è¯•æ–‡ä»¶å¤¹ï¼š`Login`ã€`Layout`
2. åˆ†åˆ«åœ¨åˆ›å»ºçš„ä¸¤ä¸ªç›®å½•ä¸­åˆ›å»º `index.js` æ–‡ä»¶ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªç®€å•çš„ç»„ä»¶åå¯¼å‡ºï¼š

```js
pages / Login / index.js
const Login = () => {
  return <div>login</div>
}
export default Login
```

```js
pages / Layout / index.js
const Layout = () => {
  return <div>layout</div>
}
export default Layout
```

```
npm i history
```

åˆ›å»º `utils/history.js `æ–‡ä»¶

```js
//utils/history.js
// https://github.com/remix-run/react-router/issues/8264

import { createBrowserHistory } from 'history'
import { unstable_HistoryRouter as HistoryRouter } from 'react-router-dom'
const history = createBrowserHistory()

export { HistoryRouter, history }
```

åœ¨ app.js ä¸­æ·»åŠ è·¯ç”±é…ç½®

```js
import { HistoryRouter, history } from './utils/history'
import { Route, Routes } from 'react-router-dom'
import Layout from './pages/Layout'
import Login from './pages/Login'

function App() {
  return (
    //HistoryRouteræ›¿æ¢BrowserRouter
    <HistoryRouter history={history}>
      <div className="App">
        <Routes>
          <Route path="/" element={<Layout />}>
            {/* é…ç½®åµŒå¥—è·¯ç”±*/}
            {/* äºŒçº§è·¯ç”±é»˜è®¤é¡µé¢ */}
            {/*<Route index element={<ç»„ä»¶1/>} /> */}
            {/*<Route path="article" element={<Article />} /> */}
          </Route>
          <Route path="/login" element={<Login />} />
        </Routes>
      </div>
    </HistoryRouter>
  )
}

export default App
```

**6 ç‰ˆæœ¬è·¯ç”±å­ç»„ä»¶ä¼ é€’ä¸å†ç”¨`props.children`è€Œæ˜¯ç”¨`<Outlet />`**

##### antd

```
npm i antd
```

`src/index.js`:

```js
// å…ˆå¯¼å…¥ antd æ ·å¼æ–‡ä»¶
// https://github.com/ant-design/ant-design/issues/33327
import 'antd/dist/antd.min.css'
// å†å¯¼å…¥å…¨å±€æ ·å¼æ–‡ä»¶ï¼Œé˜²æ­¢æ ·å¼è¦†ç›–ï¼
import './index.scss'
```

`pages/Login/index.js`

```js
import { Button } from 'antd'

const Login = () => (
  <div>
    <Button type="primary">Button</Button>
  </div>
)
export default Login
```

##### é…ç½®åˆ«åè·¯å¾„

[è‡ªå®šä¹‰ CRA çš„é»˜è®¤é…ç½®](https://ant.design/docs/react/use-with-create-react-app-cn#é«˜çº§é…ç½®)

[craco é…ç½®æ–‡æ¡£](https://github.com/gsoft-inc/craco/blob/master/packages/craco/README.md#configuration)

- `CRA` å°†æ‰€æœ‰å·¥ç¨‹åŒ–é…ç½®ï¼Œéƒ½éšè—åœ¨äº† `react-scripts` åŒ…ä¸­ï¼Œæ‰€ä»¥é¡¹ç›®ä¸­çœ‹ä¸åˆ°ä»»ä½•é…ç½®ä¿¡æ¯
- å¦‚æœè¦ä¿®æ”¹ `CRA` çš„é»˜è®¤é…ç½®ï¼Œæœ‰ä»¥ä¸‹å‡ ç§æ–¹æ¡ˆï¼š
  1. é€šè¿‡ç¬¬ä¸‰æ–¹åº“æ¥ä¿®æ”¹ï¼Œæ¯”å¦‚ï¼Œ`@craco/craco` ï¼ˆ**æ¨è**ï¼‰
  2. é€šè¿‡æ‰§è¡Œ `yarn eject` å‘½ä»¤ï¼Œé‡Šæ”¾ `react-scripts` ä¸­çš„æ‰€æœ‰é…ç½®åˆ°é¡¹ç›®ä¸­

```
 npm i -D @craco/craco --legacy-peer-deps
```

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»º craco çš„é…ç½®æ–‡ä»¶ï¼š`craco.config.js`ï¼Œå¹¶åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®è·¯å¾„åˆ«å

```js
//craco.config.js

const path = require('path')

module.exports = {
  // webpack é…ç½®
  webpack: {
    // é…ç½®åˆ«å
    alias: {
      // çº¦å®šï¼šä½¿ç”¨ @ è¡¨ç¤º src æ–‡ä»¶æ‰€åœ¨è·¯å¾„
      '@': path.resolve(__dirname, 'src'),
    },
  },
}
```

```js
// å°† start/build/test ä¸‰ä¸ªå‘½ä»¤ä¿®æ”¹ä¸º craco æ–¹å¼
"scripts": {
  "start": "craco start",
  "build": "craco build",
  "test": "craco test",
  "eject": "react-scripts eject"
}
```

**@åˆ«åè·¯å¾„æç¤º**

1. åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `jsconfig.json` é…ç½®æ–‡ä»¶

2. åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®

   ```
   {

     "compilerOptions": {
       "baseUrl": "./",
       "paths": {
         "@/*": ["src/*"]
       }
     }
   }
   ```

vscode ä¼šè‡ªåŠ¨è¯»å–`jsconfig.json` ä¸­çš„é…ç½®ï¼Œè®© vscode çŸ¥é“`@`å°±æ˜¯`src`ç›®å½•

##### å°è£… fetch è¯·æ±‚

```js
// Example POST method implementation:
async function postData(url = '', data = {}) {
  // Default options are marked with *
  const response = await fetch(url, {
    method: 'POST', // *GET, POST, PUT, DELETE, etc
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify(data), // body data type must match "Content-Type" header
  })
  return response.json() // parses JSON response into native JavaScript objects
}

async function getData(url = '', data = {}) {
  // Default options are marked with *
  const response = await fetch(url, {
    method: 'GET', // *GET, POST, PUT, DELETE, etc
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify(data), // body data type must match "Content-Type" header
  })
  return response.json() // parses JSON response into native JavaScript objects
}

export const test = () => {
  postData('http://121.5.5.157:8000/login', {
    uid: '20050027',
    pwd: '20050027',
  }).then((data) => {
    console.log(data) // JSON data parsed by `data.json()` call
  })
}
```

##### å…¨å±€å˜é‡

1ã€æ–°å»º css æ–‡ä»¶ç”¨äºå­˜æ”¾å…¨å±€å˜é‡ï¼švar.css

2ã€æ–‡ä»¶å†…ä½¿ç”¨ :root{} æ¥å­˜æ”¾æ‰€æœ‰å˜é‡ï¼Œå¦‚æ–°å»ºå˜é‡ --titleHeightï¼ˆcss å…¨å±€å˜é‡å¿…é¡»ä»¥--å¼€å¤´ï¼‰

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a0f295c7fb8246319587187253188832~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?)

3ã€å¼•ç”¨æ—¶éœ€è¦ä½¿ç”¨ var()å‡½æ•°ï¼Œvar å‡½æ•°è¿˜å¯ä»¥æ¥æ”¶ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå˜é‡çš„é»˜è®¤å€¼ï¼Œå¦‚æœå˜é‡ä¸å­˜åœ¨ï¼Œåˆ™ä¼šä½¿ç”¨è¯¥é»˜è®¤å€¼ã€‚

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/217546a8f12a435696b3fd2c89a16ee5~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?)

### vite+react+tailwindcss

##### vite é¡¹ç›®

[Install Tailwind CSS with Vite - Tailwind CSS](https://tailwindcss.com/docs/guides/vite)

```
yarn create vite
cd
yarn
npm run dev
```

**vite.config.js**

```
export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      "@": "/src",
    },
  },
});

```

##### tailwindcss

```
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
```

**tailwind.config.js**

```
/** @type {import('tailwindcss').Config} */
export default {
  content: ["./index.html", "./src/**/*.{js,ts,jsx,tsx}"],
  theme: {
    extend: {},
  },
  plugins: [],
  corePlugins: {
    preflight: false,
  },
};
```

**index.css**

```
@tailwind base;
@tailwind components;
@tailwind utilities;
```

##### è·¯ç”±

```
yarn add react-router-dom

```

### tailwindcss

[Tailwind CSS ä¸­æ–‡æ–‡æ¡£ - æ— éœ€ç¦»å¼€æ‚¨çš„ HTMLï¼Œå³å¯å¿«é€Ÿå»ºç«‹ç°ä»£ç½‘ç«™ã€‚](https://www.tailwindcss.cn/)

[(2 å°ç§ä¿¡ / 81 æ¡æ¶ˆæ¯) å¦‚ä½•è¯„ä»· CSS æ¡†æ¶ TailwindCSSï¼Ÿ - çŸ¥ä¹ (zhihu.com)](https://www.zhihu.com/question/337939566)

## NVMï¼ˆnode ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼‰

[nvm å®‰è£…ï¼ˆWindows ç¯‡ï¼‰ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/495053578)

## NRMï¼ˆnpm æºç®¡ç†å·¥å…·ï¼‰

```
npm install -g nrm
```

```
nrm ls
nrm current
nrm use xxx
nrm add xxx url
nrm del xxx
nrm test xxx
```

## WebSocket

ä»£æ›¿ http è¯·æ±‚ï¼ˆçŸ­è½®è¯¢æˆ–é•¿è½®è¯¢ï¼‰çš„ ä¸€ç§ä½äºåº”ç”¨å±‚çš„åŸºäºè¿æ¥çš„ï¼ˆæ„å‘³ç€æœ‰çŠ¶æ€ï¼‰çš„å…¨åŒå·¥é€šä¿¡ ç½‘ç»œä¼ è¾“åè®® ï¼ˆå¸¸ç”¨äºå³æ—¶é€šè®¯ï¼‰

[ä¸‡å­—é•¿æ–‡ï¼Œä¸€ç¯‡åƒé€ WebSocketï¼šæ¦‚å¿µã€åŸç†ã€æ˜“é”™å¸¸è¯†ã€åŠ¨æ‰‹å®è·µ - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com)](https://cloud.tencent.com/developer/article/1887095)

## Redux

çŠ¶æ€ç®¡ç†å·¥å…·

[ç¤ºä¾‹ï¼šTodo List Â· Redux](https://www.redux.org.cn/docs/basics/ExampleTodoList.html)

[Redux ä¸­æ–‡å®˜ç½‘ - JavaScript åº”ç”¨çš„çŠ¶æ€å®¹å™¨ï¼Œæä¾›å¯é¢„æµ‹çš„çŠ¶æ€ç®¡ç†ã€‚ | Redux ä¸­æ–‡å®˜ç½‘](https://cn.redux.js.org/)

[è®¿é—® Store | React Redux ä¸­æ–‡æ–‡æ¡£ (react-redux.js.org)](https://cn.react-redux.js.org/using-react-redux/accessing-store/)

[Redux æ ¸å¿ƒæºç åˆ†æ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/85170310)

## Vuex

**vue çš„å…¨å±€çŠ¶æ€ç®¡ç†å·¥å…·**

**Vue2 ä¸­ä½¿ç”¨ Vuex3**
**Vue3 ä¸­ä½¿ç”¨ Vuex4**

## Loadable(æ‡’åŠ è½½)ï¼ˆReact16 åä½¿ç”¨ React å†…ç½® Lazyï¼‰

**è·¯ç”±é¡µ**

```js
import React from 'react'
import { Routes, Route, BrowserRouter } from 'react-router-dom'
import ReactDOM from 'react-dom/client'
import { Provider } from 'mobx-react'
import { configure } from 'mobx'
import { ConfigProvider } from 'antd'
import Loadable from '@/component/Loadable'
import zhCN from 'antd/es/locale/zh_CN'

import injects from '@/store'

import '@/less/var.less'
import '@/less/com.less'

configure({ enforceActions: 'observed' })

configure({ enforceActions: 'observed' })

let Login = Loadable({ loader: () => import('./app/login') })
let Index = Loadable({ loader: () => import('./app/index') })
let Layout = Loadable({ loader: () => import('./app/layout') })

const root = ReactDOM.createRoot(document.getElementById('root'))
root.render(
  <Provider {...injects}>
    <ConfigProvider locale={zhCN}>
      <BrowserRouter>
        <Routes>
          <Route path="/login" element={<Login />} />
          <Route element={<Layout />}>
            <Route path="/" element={<Index />} />
          </Route>
        </Routes>
      </BrowserRouter>
    </ConfigProvider>
  </Provider>
)
```

**@/component/Loadable**

```js
import L from 'react-loadable'
import LoadingPage from '../LoadingPage'

const Loadable = (opt) =>
  L({
    loading: LoadingPage,
    delay: 300,
    ...opt,
  })

export default Loadable
```

**LoadingPage**

```js
import React from 'react'
import Loading from 'react-loading-spinkit'

class LoadingPage extends React.Component {
  render() {
    return (
      <div style={{ height: '100vh', width: '100%' }}>
        <Loading show={true} />
      </div>
    )
  }
}

export default LoadingPage
```

## Lazyï¼ˆReact16 åï¼‰

**routers/index.jsx**

```js
import { Navigate, Outlet } from 'react-router'
import { lazy } from 'react'
import Layout from '../layouts'
import Index from '../pages/home'

export default [
  {
    path: '/',
    meta: {
      isLogin: true,
    },
    component: Layout,
    children: [
      {
        path: '/',
        meta: {
          title: 'Home',
          isLogin: true,
        },
        component: Index,
      },
      {
        path: '/admin',
        meta: {
          title: 'Admin',
          isLogin: true,
        },
        component: lazy(() => import('../pages/admin')),
      },
      {
        path: '/manage',
        meta: {
          title: 'Manage',
          isLogin: true,
        },
        component: lazy(() => import('../pages/manage')),
      },
    ],
  },
  {
    path: '/login',
    meta: {
      title: 'Login',
    },
    component: lazy(() => import('../pages/login')),
  },

  // {
  //   path: '/500',
  //   meta: {
  //     title: 'Error',
  //   },
  //   component: Page500,
  // },
  // {
  //   path: '*',
  //   meta: {
  //     title: 'Page Not Found',
  //   },
  //   component: Page404,
  // },
]
```

**routers/routerBefore.jsx**

```js
import { Navigate, useRoutes } from 'react-router-dom'
import routes from './index'
import { Suspense } from 'react'
import { getCookie } from '../utils'
// import LoadingScreen from "src/components/loading-screen/LoadingScreen";

function RouterBeforeEach(props) {
  document.title = ` ${props.route.meta.title} | HZNUå›¾ä¹¦é¦†`
  const isLogin = !!getCookie('userInfo') // !!è½¬æ¢ä¸ºå¸ƒå°”å€¼
  if (props?.route?.meta?.isLogin) {
    if (!isLogin) {
      return <Navigate to={'/login'} replace />
    }
  }
  return <>{props.children}</>
}

// æ¸²æŸ“è·¯ç”±
const renderRoutes = (Routes) =>
  Routes.map((item) => {
    const route = {
      meta: item.meta,
      path: `${item.path}`,
    }
    if (item.component) {
      route.element = (
        <Suspense fallback={<div>Loading...</div>}>
          <RouterBeforeEach route={item}>
            <item.component />
          </RouterBeforeEach>
        </Suspense>
      )
      // route.element = <item.component/>
    }
    if (item.children) {
      route.children = renderRoutes(item.children)
    }
    if (item.redirect) {
      route.element = <Navigate to={item.redirect} />
    }
    return route
  })

const Router = () => {
  return useRoutes(renderRoutes(routes))
}

export default Router
```

## Suspenseï¼ˆReact18ï¼‰

## Webpack

Webpack æ˜¯ä¸€ä¸ªé«˜åº¦å¯é…ç½®çš„é™æ€èµ„æºæ‰“åŒ…å·¥å…·ï¼Œä¸»è¦ç”¨äº JavaScriptã€CSSã€å›¾ç‰‡ç­‰å‰ç«¯èµ„æºçš„æ¨¡å—åŒ–ç®¡ç†å’Œä¼˜åŒ–ã€‚å…¶æ ¸å¿ƒåŠŸèƒ½å°±æ˜¯å°†å„ç§ç±»å‹çš„èµ„æºæ–‡ä»¶ï¼ˆç§°ä¸ºæ¨¡å—ï¼‰è¿›è¡Œå¤„ç†ï¼Œå¹¶å°†å®ƒä»¬æ‰“åŒ…æˆæµè§ˆå™¨å¯ä»¥æ­£å¸¸åŠ è½½çš„ä¼˜åŒ–åçš„æ–‡ä»¶ï¼ˆç§°ä¸º bundlesï¼‰ã€‚

Webpack çš„æ‰§è¡Œæœºåˆ¶å¯ä»¥ç®€è¿°ä¸ºä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒæ­¥éª¤ï¼š

1.  é…ç½®ï¼šWebpack éœ€è¦ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚ webpack.config.jsï¼Œè¿™ä¸ªæ–‡ä»¶æŒ‡å®šäº†å…¥å£æ–‡ä»¶ã€è¾“å‡ºè·¯å¾„ã€åŠ è½½å™¨ï¼ˆloadersï¼‰å’Œæ’ä»¶ï¼ˆpluginsï¼‰ç­‰å„ç§é…ç½®ä¿¡æ¯ã€‚
2.  è§£æå…¥å£ï¼šWebpack é¦–å…ˆä»é…ç½®æ–‡ä»¶çš„å…¥å£ç‚¹ï¼ˆentry pointï¼‰å¼€å§‹ï¼Œè§£æè¿™ä¸ªå…¥å£æ–‡ä»¶ä¸­åŒ…å«çš„å„ç§ä¾èµ–æ¨¡å—ã€‚
3.  æ„å»ºä¾èµ–å…³ç³»å›¾ï¼šWebpack æ¥ç€é€’å½’åœ°è§£æå„ç§ä¾èµ–æ¨¡å—ï¼Œå¹¶æ„å»ºä¸€ä¸ªåŒ…å«æ•´ä¸ªåº”ç”¨æ‰€æœ‰æ¨¡å—ä¿¡æ¯çš„ä¾èµ–å…³ç³»å›¾ã€‚
4.  åŠ è½½å™¨ï¼ˆloadersï¼‰å¤„ç†ï¼šå¯¹äºé JavaScript æ–‡ä»¶ï¼ŒWebpack ä¼šä½¿ç”¨é…ç½®ä¸­æŒ‡å®šçš„åŠ è½½å™¨æ¥è½¬æ¢è¿™äº›æ¨¡å—ã€‚åŠ è½½å™¨å®šä¹‰äº†è½¬æ¢è§„åˆ™ï¼Œä¾‹å¦‚ä½¿ç”¨ babel-loader å°† ES6+ ä»£ç è½¬æ¢ä¸º ES5 ä»£ç ï¼Œæˆ–ä½¿ç”¨ css-loader ä¸ style-loader å¤„ç† CSS æ–‡ä»¶ã€‚
5.  æ’ä»¶ï¼ˆpluginsï¼‰å¤„ç†ï¼šåœ¨æ‰“åŒ…è¿‡ç¨‹ä¸­ï¼Œæ’ä»¶å¯ä»¥åœ¨ä¸åŒçš„é˜¶æ®µæ‰§è¡Œå¤šç§ä»»åŠ¡ï¼Œå¦‚ä»£ç å‹ç¼©ã€æ‹†åˆ†ä»£ç ã€çƒ­æ›´æ–°ç­‰ã€‚æ ¹æ®éœ€è¦ï¼Œä½ å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šè¦ä½¿ç”¨çš„æ’ä»¶åˆ—è¡¨ã€‚
6.  è¾“å‡ºæ–‡ä»¶ï¼šæ ¹æ®ä¾èµ–å…³ç³»å›¾ã€åŠ è½½å™¨å’Œæ’ä»¶å¤„ç†åï¼ŒWebpack åˆ›å»ºä¼˜åŒ–åçš„è¾“å‡ºæ–‡ä»¶ã€‚è¿™äº›æ–‡ä»¶é€šå¸¸åŒ…æ‹¬ JavaScript æ–‡ä»¶ã€CSS æ–‡ä»¶å’Œå…¶ä»–èµ„æºæ–‡ä»¶ã€‚è¾“å‡ºç›®å½•å’Œæ–‡ä»¶åç”±é…ç½®æ–‡ä»¶ä¸­çš„è¾“å‡ºï¼ˆoutputï¼‰å±æ€§å®šä¹‰ã€‚
7.  å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆå¯é€‰ï¼‰ï¼šWebpack è¿˜å¯ä»¥æä¾›ä¸€ä¸ªçƒ­æ›´æ–°çš„å¼€å‘æœåŠ¡å™¨ï¼Œç§°ä¸º webpack-dev-serverã€‚å®ƒå¯ä»¥ç›‘è§†æºæ–‡ä»¶çš„æ›´æ”¹ï¼Œå¹¶å®æ—¶é‡æ–°æ‰“åŒ…å’Œåˆ·æ–°æµè§ˆå™¨ã€‚

Webpack çš„æŒç»­æˆé•¿å¾—ç›Šäºå…¶çµæ´»æ€§å’Œé«˜åº¦å¯é…ç½®æ€§ã€‚ä½ å¯ä»¥é€šè¿‡ä¸åŒçš„åŠ è½½å™¨ï¼ˆ`Loader`ï¼‰å’Œæ’ä»¶(`Plugin`)ï¼Œåˆ›å»ºå‡ºé€‚åº”å„ç§é¡¹ç›®éœ€æ±‚çš„å®šåˆ¶åŒ–æ‰“åŒ…å·¥å…·ã€‚

### å¸¸ç”¨çš„ Loader å’Œ Pluginï¼š

**Loaders:**

1. **babel-loader:** å°† ES6+ ä»£ç è½¬æ¢ä¸ºå‘åå…¼å®¹çš„ JavaScriptï¼Œä»¥ç¡®ä¿åœ¨æ—§æµè§ˆå™¨ä¸­è¿è¡Œã€‚
2. **css-loader:** è§£æ CSS ä»£ç å¹¶å°† CSS è½¬æ¢ä¸º JavaScript ä¸­çš„ä»¤ç‰Œã€‚
3. **style-loader:** å°†ç»è¿‡ css-loader ç”Ÿæˆçš„ CSS ä»£ç æ’å…¥åˆ° HTML æ–‡æ¡£çš„å¤´éƒ¨ã€‚
4. **sass-loader:** å¤„ç† Sass æ ·å¼æ–‡ä»¶å¹¶è½¬æ¢ä¸º CSSã€‚
5. **less-loader:** å¤„ç† Less æ ·å¼æ–‡ä»¶å¹¶è½¬æ¢ä¸º CSSã€‚
6. **postcss-loader:** ä½¿ç”¨ PostCSS æ’ä»¶å¤„ç†å’Œä¼˜åŒ– CSS æ–‡ä»¶ã€‚
7. **url-loader:** æ ¹æ®æ–‡ä»¶å¤§å°ï¼Œå°† URLs è½¬æ¢ä¸º Data URLsï¼ˆå†…è”ï¼‰æˆ–ä¿æŒæ–‡ä»¶å¼•ç”¨ã€‚
8. **file-loader:** å°†æ–‡ä»¶è¾“å‡ºåˆ°å»ºç«‹æ–‡ä»¶ç»“æ„ä¸­çš„æŒ‡å®šä½ç½®å¹¶è¿”å›å¼•ç”¨è·¯å¾„ã€‚
9. **image-webpack-loader:** ä¼˜åŒ–å’Œå‹ç¼©å›¾åƒæ–‡ä»¶ï¼ˆå¦‚ JPEGã€PNGã€GIF å’Œ SVGï¼‰ã€‚

**Plugins:**

1. **HtmlWebpackPlugin:** è‡ªåŠ¨ç”Ÿæˆ HTML æ–‡ä»¶å¹¶æ³¨å…¥æ‰“åŒ…åçš„è„šæœ¬å’Œæ ·å¼èµ„æºã€‚
2. **CleanWebpackPlugin:** åœ¨æ¯æ¬¡æ„å»ºä¹‹å‰è‡ªåŠ¨æ¸…ç† output.directory æŒ‡å®šçš„æ„å»ºç›®å½•ã€‚
3. **ExtractTextWebpackPlugin (å·²åºŸå¼ƒï¼Œå»ºè®®ä½¿ç”¨ mini-css-extract-plugin):** ä» JavaScript ä¸­æå–æ ·å¼åˆ°å•ç‹¬çš„ CSS æ–‡ä»¶ä¸­ã€‚
4. **mini-css-extract-plugin:** æå– CSS åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ï¼Œç”¨äºå°† CSS ä»£ç ä¸ JavaScript æ–‡ä»¶åˆ†ç¦»ã€‚
5. **HotModuleReplacementPlugin (webpack å†…ç½®æ’ä»¶):** å¯¹æ¨¡å—è¿›è¡Œçƒ­æ›´æ–°ï¼Œå®ç° HMR(Hot Module Replacement)ã€‚
6. **optimize-css-assets-webpack-plugin:** å‹ç¼©å’Œä¼˜åŒ– CSS èµ„æºã€‚
7. **CompressionWebpackPlugin:** ä½¿ç”¨ gzip å‹ç¼©ç”Ÿæˆçš„èµ„æºã€‚
8. **BundleAnalyzerPlugin:** åˆ†æé¡¹ç›®ä¸­æ¨¡å—çš„ä¾èµ–ï¼Œç”Ÿæˆå¯è§†åŒ–æŠ¥å‘Šã€‚
9. **CopyWebpackPlugin:** å°†æŒ‡å®šç›®å½•æˆ–æ–‡ä»¶å¤åˆ¶åˆ°æ„å»ºç›®å½•ã€‚

è¿™äº› Loaders å’Œ Plugins åªæ˜¯ Webpack ç”Ÿæ€ç³»ç»Ÿå†…ä¼—å¤šå¯ç”¨å·¥å…·ä¸­çš„ä¸€éƒ¨åˆ†ã€‚æ‚¨å¯ä»¥æ ¹æ®é¡¹ç›®éœ€æ±‚è¿›è¡Œé€‰æ‹©å’Œä½¿ç”¨ã€‚

## connect-history-api-fallbackï¼ˆåç«¯è§£å†³è·¯ç”±é—®é¢˜ï¼‰

ç”¨äºè§£å†³ history è·¯ç”±æ¨¡å¼ä¸‹åˆ·æ–°é¡µé¢ 404 çš„é—®é¢˜

# å¬è¯´è¿‡çš„

## NX

NX æ˜¯ä¸€ä¸ªå…¨æ ˆå·¥ç¨‹é›†æˆæ¡†æ¶ï¼Œæä¾›äº†ä¸€å¥—å®Œæ•´çš„è§£å†³æ–¹æ¡ˆå’Œå·¥å…·æ¥å®ç°å…¨æ ˆé¡¹ç›®å¼€å‘ã€‚Nx ä½¿ç”¨äº†è¯¸å¦‚ Cypress,Jest,Prettier,TypeScript ç­‰ç°ä»£åŒ–å·¥å…·æ¥å®ç°åŒ…æ‹¬ Angularã€React å’Œ Nodeã€Nestã€Express ç­‰å„ç§æ¡†æ¶çš„é›†æˆå¼€å‘ï¼Œå¹¶ä¸”æä¾›äº†æ·±åº¦å›¾ã€ä¾èµ–æ£€æµ‹ç­‰åŠŸèƒ½ï¼Œä½¿å°å‹å›¢é˜Ÿä¹Ÿèƒ½ä½¿ç”¨åƒ Google,Facebook å’Œå¾®è½¯ä¸€æ ·çš„å¼€å‘å·¥å…·å’Œæµç¨‹

https://nx.dev/

## dnf

æœ€æ–°çš„åŒ…ç®¡ç†å·¥å…·ï¼ˆyum çš„å‡çº§ç‰ˆï¼‰

[Ubuntu Manpage: dnf - DNF Command Reference](https://manpages.ubuntu.com/manpages/impish/man8/dnf.8.html)
